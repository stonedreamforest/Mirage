# Mirage
> é©±åŠ¨å·²ç­¾åï¼Œç”±äºä½¿ç”¨æ³„éœ²ç­¾åï¼Œä½¿ç”¨å‰è¯·å…³é—­æ€æ¯’è½¯ä»¶ã€‚



#### è¯´æ˜
1. åŸºäºintel vtx && ept æŠ€æœ¯ 
2. ä¸ä¸å…¶å®ƒååè°ƒè¯•æ’ä»¶å†²çª


#### æµ‹è¯•ç¨‹åº
[al-khaser](https://github.com/LordNoteworthy/al-khaser)


#### ç³»ç»Ÿæ”¯æŒ
1. win7 x64 ( *`6.1.7600`*)
2. win10 19h1 x64 (*`10.0.18362.XXXX`*)

> æ³¨ï¼šè¯·æŠŠä½ éœ€è¦çš„ç³»ç»Ÿå‘Šè¯‰æˆ‘:[issues](https://github.com/stonedreamforest/Mirage/issues) æˆ–è€…ç»™æˆ‘å‘é‚®ä»¶... å¦‚æœä½ æœ‰æˆ‘çš„å¾®ä¿¡ä¹Ÿå¯ä»¥è¯´... å‹æƒ…é€šé“...QAQ

> æˆ‘ä¼šåœ¨æˆ‘çš„ç©ºé—²æ—¶é—´æ”¯æŒå®ƒï¼ˆæ‹’ç»æ”¯æŒx86å†…æ ¸ä»¥åŠxpã€win8ã€win8.1ğŸ˜…

> éœ€è¦è‡³å°‘10ä¸ªäººåœ¨è¿™é‡Œè¡¨ç¤ºéœ€è¦å®ƒæˆ‘æ‰ä¼šæ”¯æŒ ä¸ç„¶æ˜¯æ— æ„ä¹‰çš„æ›´æ–°æ”¯æŒ...

#### è°ƒè¯•å™¨æ”¯æŒ
1. ç°æ”¯æŒ[x64dbg](https://github.com/x64dbg/x64dbg)ï¼Œè€Œä¸”ä¼šæŒç»­æ›´æ–°...
2. ä¸ä¼šæ”¯æŒOD
3. è®¡åˆ’æ”¯æŒwindbgã€[cutter](https://github.com/radareorg/cutter)ã€[ghidra](https://github.com/NationalSecurityAgency/ghidra) ã€‚åä¿©è€…éœ€è¦å®ƒä»¬æœ¬èº«å…ˆæ”¯æŒè°ƒè¯•åŠŸèƒ½


#### æŠ€æœ¯æ”¯æŒ(åŒ…æ‹¬ä½†ä¸é™äºååè°ƒè¯•ã€é©±åŠ¨è¯»å†™ã€é©±åŠ¨æ³¨å…¥...
> å¦‚æœä½ è¦æ”¯æŒæŸä¸€ç‰¹å®šç¨‹åºæˆ–ç³»ç»Ÿ, è¯·é‚®ä»¶è”ç³»æˆ‘ï¼Œæˆ‘å°†æˆä¸ºä½ çš„ç§äººæŠ€æœ¯æ”¯æŒ... ï¼ˆ*å¾ˆæ˜æ˜¾è¿™å°†æ˜¯ä»˜è´¹çš„.*



#### ä½¿ç”¨
0. ä½¿ç”¨[`PDBDownloader.exe`](https://github.com/rajkumar-rangaraj/PDB-Downloader)ä¸‹è½½`ntoskrnl.exe`æ–‡ä»¶ (é»˜è®¤åœ¨ä¸‹è½½åœ¨Cç›˜

![image](https://user-images.githubusercontent.com/16742566/68540402-a6827280-03cc-11ea-9e5e-b54916db71f5.png)

1. ä½¿ç”¨`MVConfigBuild.exe`ç”Ÿæˆ`config.mv`é…ç½®æ–‡ä»¶ å¹¶å°†ä¹‹ç§»åŠ¨åˆ°cç›˜æ ¹ç›®å½•`C:\`
> MVConfigBuild.exe `C:\symbols\ntkrnlmp.pdb\hashxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\ntkrnlmp.pdb`
![image](https://user-images.githubusercontent.com/16742566/68540440-0da02700-03cd-11ea-9810-4bda0d9e1c18.png)


2. å°†`Mirage.sys`ã€`MirageV.dp32`ã€`MirageV.dp64`ç§»åŠ¨åˆ°`\plugins\`ç›®å½•ä¸‹

![image](https://user-images.githubusercontent.com/16742566/68471575-76669280-0259-11ea-9fba-e41231e83b3c.png)

3. èœå•æ -æ’ä»¶-å¹»å¢ƒ-è¿›å…¥

![image](https://user-images.githubusercontent.com/16742566/68471759-d5c4a280-0259-11ea-8922-46569af7d9be.png)


- é™„åŠ 
> è¾“å…¥è¿›ç¨‹id - ç‚¹å‡»`é™„åŠ è¿›ç¨‹` - ç‚¹å‡»`å¼€å¯`

![image](https://user-images.githubusercontent.com/16742566/68471844-06a4d780-025a-11ea-9c12-0c07e11b53d5.png)


- å¯åŠ¨è°ƒè¯•
> ç›´æ¥ç‚¹å‡»å¼€å¯

![image](https://user-images.githubusercontent.com/16742566/68471860-13293000-025a-11ea-8319-1707dcb9a0d2.png)


#### æ¼”ç¤º
![Bn2pqgw32f](https://user-images.githubusercontent.com/16742566/68470102-5e414400-0256-11ea-8f85-aa0e893f71ea.gif)



#### å½“å‰ç‰ˆæœ¬
[v20191108](https://github.com/stonedreamforest/Mirage/releases/tag/v20191108)

#### æœ€æ–°ç‰ˆ
[æœ€æ–°ç‰ˆ](https://github.com/stonedreamforest/Mirage/releases)


#### æ›´æ–°æ—¥å¿—
[CHANGELOG](https://github.com/stonedreamforest/Mirage/blob/master/CHANGELOG.MD)



## æœ€å
æœªæ¥çš„æŸä¸€å¤©ä¼šå…¬å¼€ä»£ç ... 

